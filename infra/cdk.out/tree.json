{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.238.0"},"children":{"VoiceIDEStack":{"id":"VoiceIDEStack","path":"VoiceIDEStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.238.0"},"children":{"ConnectionsTable":{"id":"ConnectionsTable","path":"VoiceIDEStack/ConnectionsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/ConnectionsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"connectionId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"connectionId","keyType":"HASH"}],"tableName":"VoiceIDE-Connections"}}},"ScalingRole":{"id":"ScalingRole","path":"VoiceIDEStack/ConnectionsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}}}},"SessionsTable":{"id":"SessionsTable","path":"VoiceIDEStack/SessionsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/SessionsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"sessionId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"sessionId","keyType":"HASH"}],"tableName":"VoiceIDE-Sessions"}}},"ScalingRole":{"id":"ScalingRole","path":"VoiceIDEStack/SessionsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}}}},"PendingTable":{"id":"PendingTable","path":"VoiceIDEStack/PendingTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/PendingTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"sessionId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"sessionId","keyType":"HASH"}],"tableName":"VoiceIDE-Pending","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"VoiceIDEStack/PendingTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}}}},"ConnectFunction":{"id":"ConnectFunction","path":"VoiceIDEStack/ConnectFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"VoiceIDEStack/ConnectFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/ConnectFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VoiceIDEStack/ConnectFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/ConnectFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ConnectionsTable8000B8A1","Arn"]}},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ConnectionsTable8000B8A1","Arn"]}}],"Version":"2012-10-17"},"policyName":"ConnectFunctionServiceRoleDefaultPolicy48CD77CD","roles":[{"Ref":"ConnectFunctionServiceRole95D35EC9"}]}}}}}}},"Code":{"id":"Code","path":"VoiceIDEStack/ConnectFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"VoiceIDEStack/ConnectFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"VoiceIDEStack/ConnectFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"VoiceIDEStack/ConnectFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-192440504332-us-east-1","s3Key":"b820686eb5011352d5feb1aaa23a34693a3f328a856efbead1cdd4e3adebb1c1.zip"},"environment":{"variables":{"CONNECTIONS_TABLE":{"Ref":"ConnectionsTable8000B8A1"},"SESSIONS_TABLE":{"Ref":"SessionsTable7C302024"},"PENDING_TABLE":{"Ref":"PendingTable0A187476"},"BEDROCK_MODEL_ID":"amazon.nova-lite-v1:0","LOG_LEVEL":"INFO"}},"functionName":"VoiceIDE-Connect","handler":"handlers/connect.handler","memorySize":256,"role":{"Fn::GetAtt":["ConnectFunctionServiceRole95D35EC9","Arn"]},"runtime":"nodejs20.x","timeout":10}}},"LogRetention":{"id":"LogRetention","path":"VoiceIDEStack/ConnectFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/ConnectFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"LogGroup":{"id":"LogGroup","path":"VoiceIDEStack/ConnectFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"VoiceIDEStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Code":{"id":"Code","path":"VoiceIDEStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"VoiceIDEStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"VoiceIDEStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"ServiceRole":{"id":"ServiceRole","path":"VoiceIDEStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VoiceIDEStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:PutRetentionPolicy","logs:DeleteRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"VoiceIDEStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"DisconnectFunction":{"id":"DisconnectFunction","path":"VoiceIDEStack/DisconnectFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"VoiceIDEStack/DisconnectFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/DisconnectFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VoiceIDEStack/DisconnectFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/DisconnectFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ConnectionsTable8000B8A1","Arn"]}},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ConnectionsTable8000B8A1","Arn"]}}],"Version":"2012-10-17"},"policyName":"DisconnectFunctionServiceRoleDefaultPolicyF854158E","roles":[{"Ref":"DisconnectFunctionServiceRole3E08E553"}]}}}}}}},"Code":{"id":"Code","path":"VoiceIDEStack/DisconnectFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"VoiceIDEStack/DisconnectFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"VoiceIDEStack/DisconnectFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"VoiceIDEStack/DisconnectFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-192440504332-us-east-1","s3Key":"b820686eb5011352d5feb1aaa23a34693a3f328a856efbead1cdd4e3adebb1c1.zip"},"environment":{"variables":{"CONNECTIONS_TABLE":{"Ref":"ConnectionsTable8000B8A1"},"SESSIONS_TABLE":{"Ref":"SessionsTable7C302024"},"PENDING_TABLE":{"Ref":"PendingTable0A187476"},"BEDROCK_MODEL_ID":"amazon.nova-lite-v1:0","LOG_LEVEL":"INFO"}},"functionName":"VoiceIDE-Disconnect","handler":"handlers/disconnect.handler","memorySize":256,"role":{"Fn::GetAtt":["DisconnectFunctionServiceRole3E08E553","Arn"]},"runtime":"nodejs20.x","timeout":10}}},"LogRetention":{"id":"LogRetention","path":"VoiceIDEStack/DisconnectFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/DisconnectFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"LogGroup":{"id":"LogGroup","path":"VoiceIDEStack/DisconnectFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}}}},"MessageFunction":{"id":"MessageFunction","path":"VoiceIDEStack/MessageFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.238.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"VoiceIDEStack/MessageFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/MessageFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"VoiceIDEStack/MessageFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/MessageFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ConnectionsTable8000B8A1","Arn"]}},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ConnectionsTable8000B8A1","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["SessionsTable7C302024","Arn"]}},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::GetAtt":["SessionsTable7C302024","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["PendingTable0A187476","Arn"]}},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::GetAtt":["PendingTable0A187476","Arn"]}},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":"*"},{"Action":"execute-api:ManageConnections","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:192440504332:",{"Ref":"WebSocketApi34BCF99B"},"/prod/*"]]}}],"Version":"2012-10-17"},"policyName":"MessageFunctionServiceRoleDefaultPolicy3725DC08","roles":[{"Ref":"MessageFunctionServiceRole94EDDC6B"}]}}}}}}},"Code":{"id":"Code","path":"VoiceIDEStack/MessageFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.238.0"},"children":{"Stage":{"id":"Stage","path":"VoiceIDEStack/MessageFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.238.0"}},"AssetBucket":{"id":"AssetBucket","path":"VoiceIDEStack/MessageFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.238.0"}}}},"Resource":{"id":"Resource","path":"VoiceIDEStack/MessageFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-192440504332-us-east-1","s3Key":"b820686eb5011352d5feb1aaa23a34693a3f328a856efbead1cdd4e3adebb1c1.zip"},"environment":{"variables":{"CONNECTIONS_TABLE":{"Ref":"ConnectionsTable8000B8A1"},"SESSIONS_TABLE":{"Ref":"SessionsTable7C302024"},"PENDING_TABLE":{"Ref":"PendingTable0A187476"},"BEDROCK_MODEL_ID":"amazon.nova-lite-v1:0","LOG_LEVEL":"INFO"}},"functionName":"VoiceIDE-Message","handler":"handlers/message.handler","memorySize":512,"role":{"Fn::GetAtt":["MessageFunctionServiceRole94EDDC6B","Arn"]},"runtime":"nodejs20.x","timeout":120}}},"LogRetention":{"id":"LogRetention","path":"VoiceIDEStack/MessageFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/MessageFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"LogGroup":{"id":"LogGroup","path":"VoiceIDEStack/MessageFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.238.0"}}}},"WebSocketApi":{"id":"WebSocketApi","path":"VoiceIDEStack/WebSocketApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketApi","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/WebSocketApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"name":"VoiceIDE-WebSocket","protocolType":"WEBSOCKET","routeSelectionExpression":"$request.body.action"}}},"$connect-Route":{"id":"$connect-Route","path":"VoiceIDEStack/WebSocketApi/$connect-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.238.0"},"children":{"ConnectIntegration-Permission":{"id":"ConnectIntegration-Permission","path":"VoiceIDEStack/WebSocketApi/$connect-Route/ConnectIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConnectFunction52BFC429","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:192440504332:",{"Ref":"WebSocketApi34BCF99B"},"/*$connect"]]}}}},"ConnectIntegration":{"id":"ConnectIntegration","path":"VoiceIDEStack/WebSocketApi/$connect-Route/ConnectIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/WebSocketApi/$connect-Route/ConnectIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ConnectFunction52BFC429","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"VoiceIDEStack/WebSocketApi/$connect-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$connect","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApiconnectRouteConnectIntegration7F1E0FDE"}]]}}}}}},"$disconnect-Route":{"id":"$disconnect-Route","path":"VoiceIDEStack/WebSocketApi/$disconnect-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.238.0"},"children":{"DisconnectIntegration-Permission":{"id":"DisconnectIntegration-Permission","path":"VoiceIDEStack/WebSocketApi/$disconnect-Route/DisconnectIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["DisconnectFunctionEFD34B26","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:192440504332:",{"Ref":"WebSocketApi34BCF99B"},"/*$disconnect"]]}}}},"DisconnectIntegration":{"id":"DisconnectIntegration","path":"VoiceIDEStack/WebSocketApi/$disconnect-Route/DisconnectIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/WebSocketApi/$disconnect-Route/DisconnectIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["DisconnectFunctionEFD34B26","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"VoiceIDEStack/WebSocketApi/$disconnect-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$disconnect","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApidisconnectRouteDisconnectIntegration94C91381"}]]}}}}}},"$default-Route":{"id":"$default-Route","path":"VoiceIDEStack/WebSocketApi/$default-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.238.0"},"children":{"DefaultIntegration-Permission":{"id":"DefaultIntegration-Permission","path":"VoiceIDEStack/WebSocketApi/$default-Route/DefaultIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:192440504332:",{"Ref":"WebSocketApi34BCF99B"},"/*$default"]]}}}},"DefaultIntegration":{"id":"DefaultIntegration","path":"VoiceIDEStack/WebSocketApi/$default-Route/DefaultIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/WebSocketApi/$default-Route/DefaultIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"VoiceIDEStack/WebSocketApi/$default-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$default","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApidefaultRouteDefaultIntegration0865A209"}]]}}}}}},"sendMessage-Route":{"id":"sendMessage-Route","path":"VoiceIDEStack/WebSocketApi/sendMessage-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.238.0"},"children":{"MessageIntegration-Permission":{"id":"MessageIntegration-Permission","path":"VoiceIDEStack/WebSocketApi/sendMessage-Route/MessageIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:192440504332:",{"Ref":"WebSocketApi34BCF99B"},"/*sendMessage"]]}}}},"MessageIntegration":{"id":"MessageIntegration","path":"VoiceIDEStack/WebSocketApi/sendMessage-Route/MessageIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/WebSocketApi/sendMessage-Route/MessageIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"VoiceIDEStack/WebSocketApi/sendMessage-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"sendMessage","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApisendMessageRouteMessageIntegration27953E56"}]]}}}}}}}},"WebSocketStage":{"id":"WebSocketStage","path":"VoiceIDEStack/WebSocketStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketStage","version":"2.238.0"},"children":{"Resource":{"id":"Resource","path":"VoiceIDEStack/WebSocketStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.238.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"autoDeploy":true,"stageName":"prod"}}}}},"WebSocketURL":{"id":"WebSocketURL","path":"VoiceIDEStack/WebSocketURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"WebSocketApiId":{"id":"WebSocketApiId","path":"VoiceIDEStack/WebSocketApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"ConnectionsTableName":{"id":"ConnectionsTableName","path":"VoiceIDEStack/ConnectionsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"SessionsTableName":{"id":"SessionsTableName","path":"VoiceIDEStack/SessionsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"PendingTableName":{"id":"PendingTableName","path":"VoiceIDEStack/PendingTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.238.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"VoiceIDEStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"VoiceIDEStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.238.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"VoiceIDEStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.238.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"VoiceIDEStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.238.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}